# Support Post Query
query SupportPost($identifier: String!) {
    post(identifier: $identifier) {
        identifier
        slug
        status
        title
        description
        content
        updatedAt
        createdAt
    }
}

query SupportPosts($paginationInputWithFilters: PaginationInputWithFilters) {
    posts(input: $paginationInputWithFilters) {
        pagination {
            itemIndex
            itemIndexForPreviousPage
            itemIndexForNextPage
            itemsPerPage
            itemsTotal
            pagesTotal
            page
        }
        items {
            identifier
            slug
            status
            title
            description
            content
            topics {
                id
                title
                slug
            }
            updatedAt
            createdAt
        }
    }
}

# Support Post Topic Query
query SupportPostTopic($slug: String!, $path: String, $pagination: PaginationInput) {
    postTopic(slug: $slug, path: $path, type: "SupportArticle", pagination: $pagination) {
        topic {
            id
            title
            slug
            description
            postCount
            createdAt
        }
        subTopics {
            id
            title
            slug
            description
            postCount
            createdAt
        }
        pagedPosts {
            items {
                id
                identifier
                slug
                status
                title
                description
                content
                metadata
                updatedAt
                createdAt
            }
            pagination {
                itemIndex
                itemIndexForPreviousPage
                itemIndexForNextPage
                itemsPerPage
                itemsTotal
                pagesTotal
                page
            }
        }
    }
}

# Support Ticket Create Mutation
mutation SupportTicketCreate($input: SupportTicketCreateInput!) {
    supportTicketCreate(input: $input) {
        id
        type
        status
        userEmailAddress
        title
        description
        comments {
            content
        }
    }
}

# Support Tickets Admin Query
query SupportTicketsAdmin($pagination: PaginationInputWithFilters, $orderBy: OrderBy) {
    supportTicketsAdmin(pagination: $pagination, orderBy: $orderBy) {
        items {
            id
            identifier
            status
            type
            title
            userEmailAddress
            createdAt
            comments {
                id
                source
                visibility
                content
                contentType
                attachments {
                    type
                    url
                    variant
                }
                createdAt
            }
        }
        pagination {
            itemIndex
            itemIndexForNextPage
            itemIndexForPreviousPage
            itemsPerPage
            itemsTotal
            page
            pagesTotal
        }
    }
}

# Support Ticket Comment Create Admin Mutation
mutation SupportTicketCommentCreateAdmin($input: SupportTicketCommentCreateInput!) {
    supportTicketCommentCreateAdmin(input: $input) {
        id
        content
        contentType
        source
        visibility
        createdAt
    }
}
