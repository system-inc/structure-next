/* Structure Global Styles
 *
 * IMPORTANT: Do not import this file directly in layouts or components.
 * Instead, import the project-level theme.css file which includes this via @import.
 *
 * Correct import chain:
 *   RootLayout.tsx → @project/app/_theme/styles/theme.css → global.css (this file)
 *
 * This ensures a single import path and prevents duplicate CSS in the compiled output.
 */

/* Point to the Tailwind configuration file (required in v4) */
@config '../../../../../tailwind.config.mts';

/* Tailwind CSS v4 Import */
@import 'tailwindcss';

/* Custom dark variant that respects nested scheme islands */
/* Uses :has() to check if a .scheme-light ancestor contains any .scheme-dark descendant */
/* - If .scheme-light contains .scheme-dark: dark: can still apply (element might be in that dark region) */
/* - If .scheme-light has no .scheme-dark: it's a "pure light" region, dark: is blocked */
/* Note: This works for clean island nesting but not side-by-side light/dark branches */
/* TODO: We will eventually remove this after we ban and remove all instances of dark: */
@custom-variant dark (&:where(.scheme-dark, .scheme-dark *):not(:where(.scheme-light:not(:has(.scheme-dark)), .scheme-light:not(:has(.scheme-dark)) *)));

/* Import CSS variables */
@import './variables.css';

/* Import tw-animate-css (Tailwind v4 compatible animations) */
@import 'tw-animate-css';

/* Import utilities */
@import './utilities.css';

/* Import animations */
@import './animations.css';

@layer base {
    strong {
        /* Use medium weight (500) for strong text instead of browser default bold (700) */
        font-weight: 500;
    }

    /* Heading Typography - Consistent sizing and weight across all heading levels */
    h1 {
        font-size: 24px;
        font-weight: 500;
    }

    h2 {
        font-size: 20px;
        font-weight: 500;
    }

    h3 {
        font-size: 18px;
        font-weight: 500;
    }

    h4 {
        font-size: 16px;
        font-weight: 500;
    }

    h5 {
        font-size: 16px;
        font-weight: 400;
    }

    h6 {
        font-size: 16px;
        font-weight: 300;
    }

    /* Global Focus Styles - Remove browser defaults and apply consistent themed focus */
    /* This ensures all focusable elements use our design system's focus color */
    /* Components with explicit focus classes will override these base styles */
    *:focus {
        outline: none;
    }
    *:focus-visible {
        outline: 1px solid var(--color-border-focus);
        outline-offset: 0;
    }
}

/* Form inputs autofilled by the browser are styled in undesirable ways */
/* This hack delays the style transitions */
/* It requires that we set a key={theme} on React components */
/* such that the component is re-rendered when the theme changes */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
    transition:
        background-color 99999s,
        color 99999s;
    transition-delay: 99999s;
}

/* Calendar - Single day range selection fix */
/* When a single day is selected in range mode, both rdp-range_start and rdp-range_end */
/* classes are applied to the parent, causing conflicting border and rounding rules. */
/* This restores full border, rounding, and background for single-day selections. */
/* Cannot be done in Tailwind: child combinator (>) gets escaped, and chained group-[] */
/* modifiers don't produce AND logic (they produce separate selectors). */
.rdp-range_start.rdp-range_end > button {
    border-radius: 0.375rem !important;
    border-width: 1px !important;
    background-color: var(--color-background-0) !important;
}
